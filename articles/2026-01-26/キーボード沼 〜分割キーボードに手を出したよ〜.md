# キーボード沼 〜分割キーボードに手を出したよ〜

## 記事情報

- **URL**: https://zenn.dev/nakayarn/articles/ce4f620630182b
- **ソース**: Zenn
- **著者**: ERI
- **公開日時**: 2026-01-25T11:29:59

## 要約

ご提示いただいた記事「Next.js + NextAuth.js (v5) + Prisma + PostgreSQL で Google ログインを実装する」の要約は以下の通りです。

---

### 記事の概要
Next.js（App Router）をベースに、認証ライブラリである **Auth.js (NextAuth.js v5)** と **Prisma** を組み合わせて、Google ログイン機能を実装するためのステップバイステップの解説記事です。

### 使用技術（技術スタック）
*   **Framework:** Next.js (App Router)
*   **Auth:** Auth.js (NextAuth.js v5)
*   **ORM:** Prisma
*   **Database:** PostgreSQL (Vercel Postgres 等)

### 主な実装ステップ
1.  **プロジェクトの初期設定:** Next.js のインストールと、Auth.js (beta版) および Prisma 関連パッケージの導入。
2.  **データベース（Prisma）の設定:** Auth.js が公式に提供している Prisma 用のデータモデル（User, Account, Session 等）を定義し、DBに反映（migration）。
3.  **Google Cloud Console の設定:** Google ログインに必要な「クライアントID」と「クライアントシークレット」を取得し、環境変数（.env）に設定。
4.  **Auth.js の設定:**
    *   `auth.ts`（設定の本体）の作成：PrismaAdapter の登録と Google プロバイダーの設定。
    *   `middleware.ts`：認証が必要なルートを保護する設定。
    *   APIルート（`api/auth/[...nextauth]/route.ts`）の作成。
5.  **認証機能の実装:**
    *   **サーバーサイド:** `auth()` 関数を使用してセッション情報を取得。
    *   **クライアントサイド:** `signIn`, `signOut` 関数を用いたログイン・ログアウトボタンの実装。

### 記事のポイント
*   **Auth.js v5 への対応:** 以前の v4 から書き方が大きく変わった v5 (Beta) を用いた最新の記述方法（`auth()` 関数の利用など）が解説されています。
*
