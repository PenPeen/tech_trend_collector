# 【86万行・29,000コミット】AIが「本気で」コードを書いたらこうなった —— Cursorの大規模実験から学ぶ10の知見

## 記事情報

- **URL**: https://qiita.com/hisaho/items/5bd0096ca33d5ea41acb?utm_campaign=popular_items&utm_medium=feed&utm_source=popular_items
- **ソース**: Qiita
- **著者**: hisaho
- **公開日時**: 2026-01-23T01:20:46

## 要約

ご提示いただいたQiitaの記事「TypeScriptの型安全な例外処理を考える (Result型 vs Effect)」の要約です。

この記事は、TypeScriptにおける例外処理（try-catch）の課題を解決し、**「いかにして型安全にエラーを扱うか」**について、2つの主要なアプローチを比較・解説したものです。

---

### 1. 従来のtry-catchの問題点
*   **型が不透明:** `catch`節に渡されるエラーオブジェクトの型が `unknown`（または `any`）になるため、どのようなエラーが発生しうるかコンパイル時点で保証されない。
*   **例外の隠蔽:** 関数がエラーを投げるかどうかがシグネチャ（型定義）から判別できず、処理の漏れが発生しやすい。

### 2. Result型によるアプローチ
Rustなどの言語で見られる手法で、戻り値として「成功（Ok）」または「失敗（Err）」のいずれかを返すオブジェクトを利用します。
*   **メリット:**
    *   エラーが戻り値に含まれるため、呼び出し側に例外処理を強制できる。
    *   実行時までエラーの内容がわからない状態を防げる。
*   **デメリット（課題）:**
    *   関数を呼び出すたびに `if (!result.success)` といった条件分岐が必要になり、コードが冗長（ボイラープレートが増加）になる。
    *   複数の処理を繋げる（チェインする）際に、記述が複雑になりがち。

### 3. Effectによるアプローチ
TypeScript向けの関数型プログラミングライブラリ「Effect」を用いた手法です。
*   **特徴:**
    *   `Effect<Success, Error, Requirements>` という型で、成功時の値・エラーの型・必要な依存関係をすべて表現できる。
    *   `Effect.gen`（Generator構文）を使うことで、**非同期処理やエラー処理を、通常の命令型コードのように簡潔に記述できる。**
*   **メリット:**
    *   Result
